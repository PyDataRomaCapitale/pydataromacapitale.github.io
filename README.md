# PyData RomaCapitale â€‘ website

> Static site powered by **[Pelican](https://getpelican.com/)**, deployed on **GitHub Pages**.

* **ProductionURL**: [https://pydataromacapitale.github.io/website/](https://pydataromacapitale.github.io/website/)
* **Sourcecode**: `main`branch (this repo)
* **Builtsite**: `gh-pages`branch (published automatically)

---

## ğŸ“Repo layout

| Path                 | What it contains                                                                         |
| -------------------- |------------------------------------------------------------------------------------------|
| `content/`           | Markdown/ReST pages **plus** meetâ€‘up stubs autoâ€‘generated by the `meetup_events` plugâ€‘in |
| `output/`            | *Built site* â€” clean HTML/CSS/JS ready to serve (gitâ€‘ignored locally; committed by CI)   |
| `plugins/`           | Custom Pelican plugâ€‘ins (currently only the Meetup sync)                                 |
| `themes/roma/`       | Bootstrap 5.3 theme tailored to PyData Roma colours                                      |
| `pelicanconf.py`     | Dev config â€“ relative links, drafts enabled                                              |
| `publishconf.py`     | Prod config â€“ absolute links pointing at GitHub Pages                                    |
| `.github/workflows/` | CI pipeline that builds + deploys on every commit to **`main`**                          |

---

## ğŸ› Environment

```bash
# Python â‰¥3.11 is recommended
python -m venv .venv && source .venv/bin/activate

# install deps with the teamâ€‘standard package manager
pip install uv
uv sync
```

> **Why uv?**It is a dropâ€‘in for `pip` that resolves and installs
> dependencies \~10Ã— faster. You may still `pip install -r requirements.txt`
> if you prefer.

---

## ğŸš´â€â™‚ï¸Local workflow

### 1.Fast dev server

```bash
# liveâ€‘reload server on http://localhost:8001/
pelican --listen --autoreload -p 8001 \
        --settings pelicanconf.py
```

This uses **relative URLs** so everything renders correctly on localhost.

### 2.Production build preview

```bash
pelican content \
       --settings publishconf.py \
       --output output
python -m http.server --directory output 8002
# open http://localhost:8002/website/  â† note the /website/ path
```

`publishconf.py` writes **absolute URLs** rooted at
`https://pydataromacapitale.github.io/website`, so when you preview the
prod build locally you need the extra subâ€‘folder in the URL.

---

## ğŸ”ŒMeetup event autoâ€‘sync

On every build the `meetup_events` plugâ€‘in:

1. Fetches the public iCal feed of
   `https://www.meetup.com/pydata-roma-capitale/`
2. Creates/updates one Markdown file per **future** event under
   `content/events/`, containing only:

   * Title
   * Datetime (UTC) in frontâ€‘matter
   * Oneâ€‘line â€œRSVP on Meetupâ€ link
3. Deletes stubs for past events.

This keeps the homepage â€œUpcoming eventsâ€ card in sync with the actual
Meetup schedule with zero manual work.

---

## ğŸš¢CIÂ· GitHub Pages deploy

The workflow <kbd>.github/workflows/deploy.yaml</kbd> does the heavylifting:

```yaml
on: [push, workflow_dispatch]
permissions:
  contents: write  # allow push to ghâ€‘pages

jobs:
  build:
    runs-on: ubuntu-latest
    defaults:
      run:
        shell: bash
        working-directory: pydata_roma_website  # <- this folder houses pelicanconf.py
    steps:
      - uses: actions/checkout@v4

      - name: Install uv & deps
        run: |
          pip install uv
          uv sync

      - name: Build site
        run: |
          uv run pelican content \
                 --settings publishconf.py \
                 --output   output

      - name: Deploy
        uses: peaceiris/actions-gh-pages@v4
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_branch: gh-pages
          publish_dir: pydata_roma_website/output
          enable_jekyll: false  # drop .nojekyll
```

The first run creates the `gh-pages` branch; GitHub Pages is then
configured (Settings â†’ Pages) to serve from that branch at the repo
root. Links work because `publishconf.py`â€™s `SITEURL` already matches the
final address.

---

## ğŸ¤Contributing

* **Fix a typo?** Open a quick PR.
* **Hack on the theme?** Tweak the SCSS/JS in
  `themes/roma/static/`â€” we â¤ï¸ improvements.

All contributions must respect the
[PyData Code of Conduct](https://pydataconf.global/coc).

---

## ğŸ“License

Code, themes and docs are released under the MIT License (see
`LICENSE`).  Images may have separate licences; check individual files
before reuse.

---

Â©2025 PyDataRomaCapitale
